import streamlit as st
import pandas as pd

# ê°„ë‹¨í•œ ë°ì´í„°ë² ì´ìŠ¤
school_data = {
    "ì„œìš¸ê³ ë“±í•™êµ": [
        {"ì´ë¦„": "ê¹€ë¯¼ì¤€", "í•™ë…„": 1, "ë°˜": 3, "ì„±ì ": 89},
        {"ì´ë¦„": "ì´ì„œì—°", "í•™ë…„": 2, "ë°˜": 1, "ì„±ì ": 95}
    ],
    "ë¶€ì‚°ì—¬ìê³ ë“±í•™êµ": [
        {"ì´ë¦„": "ë°•ì§€í›ˆ", "í•™ë…„": 3, "ë°˜": 2, "ì„±ì ": 78},
        {"ì´ë¦„": "ìµœìœ¤ì•„", "í•™ë…„": 1, "ë°˜": 1, "ì„±ì ": 88}
    ],
    "ëŒ€êµ¬ê³¼í•™ê³ ë“±í•™êµ": [
        {"ì´ë¦„": "ì •ìˆ˜ë¯¼", "í•™ë…„": 2, "ë°˜": 2, "ì„±ì ": 92}
    ]
}

# ì±—ë´‡ UI
st.title("ğŸ¤– í•™êµ ì •ë³´ ì±—ë´‡")

st.markdown("í•™êµë‚˜ í•™ìƒì— ëŒ€í•œ ì§ˆë¬¸ì„ í•´ë³´ì„¸ìš”. ì˜ˆ: `ì„œìš¸ê³ ë“±í•™êµ í•™ìƒ ì•Œë ¤ì¤˜`, `ë¶€ì‚°ì—¬ìê³ ë“±í•™êµ í‰ê·  ì„±ì `")

# ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°
user_input = st.text_input("ğŸ’¬ ì‚¬ìš©ì ì…ë ¥", "")

# ì±—ë´‡ ì‘ë‹µ ì²˜ë¦¬
if user_input:
    found = False
    for school, students in school_data.items():
        if school in user_input:
            df = pd.DataFrame(students)
            found = True
            if "í•™ìƒ" in user_input:
                st.markdown(f"**ğŸ“‹ {school} í•™ìƒ ëª…ë‹¨:**")
                st.dataframe(df)
            elif "í‰ê· " in user_input or "ì„±ì " in user_input:
                avg_score = df["ì„±ì "].mean()
                st.markdown(f"**ğŸ“Š {school} í‰ê·  ì„±ì : {avg_score:.2f}ì **")
            else:
                st.markdown("ğŸ” í•™ìƒ ì •ë³´ë‚˜ í‰ê·  ì„±ì  ì¤‘ ì–´ë–¤ ì •ë³´ë¥¼ ì›í•˜ì‹œëŠ”ì§€ ì•Œë ¤ì£¼ì„¸ìš”.")
            break
    if not found:
        st.markdown("â“ í•´ë‹¹ í•™êµ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•™êµëª…ì„ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.")
